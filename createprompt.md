Отвечу как главный продуктовый архитектор авто-сервисов и админ-панелей, лауреат «Премии Рунета» за B2B-интерфейсы в автоиндустрии.

**TL;DR:** Ниже — цельное ТЗ на фронтенд: одна SPA-система с тремя зонами (Админка, Кабинет клиента, Кабинет эксперта), работающая на мок-данных без бэка, но с полноценной интерактивностью (роутинг, формы, смена статусов, локальный CRUD). Всё спроектировано так, чтобы потом легко «подшить» настоящий API.

---

## 1. Общая часть

### 1.1. Цель проекта

Реализовать интерактивный фронтенд-прототип сервиса **дистанционной автоэкспертизы и подбора авто**:

* дистанционный осмотр конкретного авто по ссылке на объявление;
* связка нескольких осмотров в один заказ подбора;
* управление сетью экспертов;
* базовый клиентский кабинет для отслеживания статусов;
* базовый кабинет эксперта с чеклистом и заполнением отчёта.

**Важно:**
Только фронтенд, без реального бэкенда. Все данные — моковые, хранятся в памяти (допустимо использовать `localStorage` для сохранения между перезагрузками, но это опционально).

### 1.2. Технические рамки

* Тип приложения: **SPA (Single Page Application)**.
* Фреймворк: на выбор (React / Vue / Svelte и т.п.) — главное:

  * клиентский роутинг,
  * состояние на фронте,
  * возможность вынести логику работы с API в отдельный слой.
* Язык: **TypeScript** желательно, но не обязательно. Если команда не использует TS — предусмотреть чёткие JSDoc-типы для моделей.
* Стили:

  * разрешается любой стек (Tailwind, SCSS, CSS-модули, чистый CSS),
  * важна аккуратная, современная тёмная тема: тёмный левый сайдбар + светлая рабочая область с зеброй-таблицами и яркими акцентами (по референсу на скриншоте).
* Никаких серверных технологий/SSR — только статический фронт, который можно положить на любой хостинг.

### 1.3. Общие требования к интерактивности

* Переход между разделами — без перезагрузки страницы.
* Списки поддерживают:

  * кликабельные строки,
  * сортировку/фильтры минимум по статусу и городу (для осмотров и подборов),
  * пагинацию может быть фейковой (если мало мок-данных).
* Формы:

  * валидация на фронте (обязательные поля, базовые форматы телефона/почты),
  * отображение ошибок.
* Состояние:

  * смена статусов, назначение экспертов, изменение полей должна **отражаться в UI сразу**,
  * изменения хранятся в in-memory store (опционально — сохранять снапшот в `localStorage`).

---

## 2. Доменная модель (модели данных)

### 2.1. Задача осмотра — `InspectionOrder`

Это единичная дистанционная автоэкспертиза по ссылке на объявление.

Поля:

* `id: string` — уникальный ID (`INS-1024` и т.п.).
* `status: "NEW" | "WAITING_FOR_EXPERT" | "ASSIGNED" | "IN_PROGRESS" | "REPORT_IN_PROGRESS" | "DONE" | "CANCELLED"`.
* `sourceUrl: string` — ссылка на объявление (Avito/auto.ru).
* `parsedData: { make: string; model: string; year: number; mileage: number; price: number | null; city: string }`.
* `city: string` — город осмотра.
* `client`:

  * `name: string`,
  * `phone: string`,
  * `email?: string`.
* `sellerContact?: string` — контакт продавца (телефон).
* `priceSegment: string` — человекочитаемый сегмент типа `"2–3 млн ₽"`.
* `summary: string` — свободный комментарий клиента «на что обратить внимание».
* `expertId: string | null` — назначенный эксперт.
* `appointmentAt: string | null` — дата/время планируемого осмотра (ISO-строка).
* `createdAt: string` — дата создания.
* `updatedAt: string`.
* `selectionOrderId?: string | null` — если осмотр относится к конкретному подбору.
* `report?: Report | null` — данные отчёта (см. ниже).

### 2.2. Заказ подбора — `SelectionOrder`

Объединяет несколько `InspectionOrder` в один полноценный подбор.

Поля:

* `id: string` — `SEL-501` и т.п.
* `status: "NEW" | "ACTIVE" | "WAITING_FOR_DECISION" | "DEAL_FLOW" | "DONE" | "CANCELLED"`.
* `city: string`.
* `client`:

  * `name: string`,
  * `phone: string`,
  * `email?: string`.
* `budget: string` — например, `"2.5–3 млн ₽"`.
* `requirements: string` — текстовое ТЗ на подбор (тип кузова, коробка, возраст и т.д.).
* `deadline?: string` — желаемый срок (дата).
* `inspectionIds: string[]` — список ID связанных `InspectionOrder`.
* `result?: { type: "BOUGHT" | "NOT_BOUGHT" | "NO_MATCH"; description: string }`.
* `createdAt: string`.
* `updatedAt: string`.

### 2.3. Эксперт — `Expert`

Профиль автоэксперта.

* `id: string`.
* `name: string`.
* `phone: string`.
* `email?: string`.
* `cities: string[]`.
* `brands: string[]`.
* `generations?: string[]`.
* `rating: number` — 0–5.
* `completedInspections: number`.
* `cancelRate: number` — в процентах.
* `active: boolean` — может ли сейчас брать осмотры.
* `notes?: string`.

### 2.4. Чеклист — `ChecklistTemplate` (MVP)

Базовый шаблон для отчёта.

* `id: string`.
* `name: string`.
* `version: string`.
* `sections: ChecklistSection[]`.

`ChecklistSection`:

* `id: string`.
* `title: string` — например, «Кузов и ЛКП».
* `items: ChecklistItem[]`.

`ChecklistItem`:

* `id: string`.
* `label: string` — текст пункта.
* `type: "boolean" | "enum" | "text" | "number"`.
* `options?: { value: string; label: string }[]` — если `enum`.

### 2.5. Отчёт — `Report`

Итоговый отчёт по осмотру.

* `id: string`.
* `inspectionOrderId: string`.
* `templateId: string`.
* `data: any` — значения по пунктам чеклиста (структуру можно спроектировать отдельно).
* `summary: string` — итоговое заключение («рекомендуем / с оговорками / не рекомендуем»).
* `recommendedDiscount?: { min: number; max: number; comment: string }`.
* `webUrl?: string` — ссылка на web-версию (в моках можно просто текст).
* `pdfUrl?: string` — ссылка на PDF (в моках текст).

### 2.6. Тариф — `Tariff`

Фиксированный тариф за осмотр в определённом ценовом сегменте.

* `id: string`.
* `priceSegment: string` — «до 1 млн», «1–2 млн» и т.п.
* `amount: number | "custom"` — цена в рублях или пометка «по договорённости».
* `comment?: string`.

---

## 3. Общая архитектура фронтенда

### 3.1. Структура роутинга

Предложение (можно адаптировать под используемый фреймворк):

* `/admin/dashboard` — дашборд.
* `/admin/inspections` — список задач осмотра.
* `/admin/inspections/:id` — карточка конкретной задачи.
* `/admin/selections` — список подборов.
* `/admin/selections/:id` — карточка подбора.
* `/admin/experts` — список экспертов.
* `/admin/checklists` — просмотр базового чеклиста.
* `/admin/tariffs` — просмотр тарифной сетки.
* `/client` — выбор демо-клиента или форма входа.
* `/client/inspections` — список задач клиента.
* `/client/inspections/:id` — детальный просмотр осмотра глазами клиента.
* `/client/selections/:id` — детальный просмотр подбора глазами клиента.
* `/expert` — вход в кабинет эксперта (выбор эксперта).
* `/expert/inspections` — список задач для эксперта.
* `/expert/inspections/:id` — карточка осмотра с чеклистом.

### 3.2. Хранилище данных

* Вся логика работы с данными — в отдельном модуле (например, `store` или `services`).
* На текущем этапе:

  * данные грузятся из статического JSON или инициализируются в коде;
  * все операции (смена статуса, редактирование) меняют состояние store;
  * опционально — snapshot состояния в `localStorage`.

Структура:

* `InspectionStore` — CRUD по задачам осмотра.
* `SelectionStore` — CRUD по заказам подбора.
* `ExpertStore`.
* `ChecklistStore`.
* `TariffStore`.

---

## 4. Функциональные требования — Админка

### 4.1. Общий layout

* Левый сайдбар (тёмный navy фон, светлые иконки, активное состояние ярко-фиолетовое заполнение строки) с блоками:

  * Обзор (Дашборд),
  * Осмотры,
  * Подборы,
  * Эксперты,
  * Чеклисты,
  * Тарифы.
* В сайдбаре сверху логотип/название, ниже карточка пользователя (аватар, имя, роль), далее группы разделов с иконками; вложенные списки (стрелка выпадающего меню) раскрываются внутри.
* Верхняя панель светлая/полупрозрачная с фильтрами и действиями в виде скруглённых чипов/иконок:

  * «хлебные крошки»,
  * текущий пользователь (заглушка),
  * версионность (`v0.1 Demo`) — по желанию.

### 4.2. Дашборд `/admin/dashboard`

Отображает:

1. Карточки-метрики:

   * количество задач осмотра (всего / активных / завершённых),
   * количество подборов (всего / активных),
   * количество экспертов (активных / средний рейтинг).
2. Блок «Последние задачи осмотра»:

   * таблица 4–5 последних задач по дате создания;
   * клик по строке → переход к `/admin/inspections/:id`.
3. Блок «Подборы и состояние пайплайна»:

   * таблица подборов с основными полями;
   * клик по строке → переход к `/admin/selections/:id`.

Действия:

* Кнопка «Все осмотры» → `/admin/inspections`.
* Кнопка «Все подборы» → `/admin/selections`.

### 4.3. Список задач осмотра `/admin/inspections`

Функционал:

* Таблица с колонками:

  * ID,
  * Статус (бейдж с цветом),
  * Город,
  * Авто (`make model year`),
  * Клиент,
  * Эксперт (ФИО или «Не назначен»),
  * Дата создания.
* Фильтры:

  * по статусу (select),
  * по городу (select/ввод),
  * по наличию назначенного эксперта.
* Клик по строке → детальная карточка.

### 4.4. Карточка задачи осмотра `/admin/inspections/:id`

Блоки:

1. **Шапка:**

   * ID, авто, город,
   * бейдж статуса,
   * кнопка «назад» к списку.
2. **Общая информация:**

   * статус (селект для изменения),
   * дата создания,
   * сегмент цены,
   * комментарий клиента (summary).
3. **Клиент и объявление:**

   * ФИО и телефон клиента,
   * ссылка на объявление (кликабельная),
   * контакт продавца,
   * город осмотра.
4. **Эксперт и расписание:**

   * текущее значение `expertId` (селект — выбор из списка экспертов),
   * `appointmentAt` (инпут даты/времени),
   * кнопка «Сохранить» (меняет данные в store).
5. **Отчёт:**

   * статус отчёта (на основе поля `status` и наличия `report`),
   * если `status === "DONE"` и есть `report`, показать:

     * ссылку на webUrl/pdfUrl (как текст),
     * краткое summary и рекомендуемую скидку.

Интерактивность:

* Смена статуса в селекте сразу обновляет запись в store.
* Смена эксперта и времени осмотра — через форму/кнопку «Сохранить» (обновление store).
* На прототипе допускается отсутствие реального API.

### 4.5. Список подборов `/admin/selections`

Функционал:

* Таблица:

  * ID,
  * Статус,
  * Клиент,
  * Город,
  * Бюджет,
  * Кол-во связанных осмотров,
  * Дата создания.
* Фильтры:

  * по статусу,
  * по городу.
* Клик по строке → карточка подбора.

### 4.6. Карточка подбора `/admin/selections/:id`

Блоки:

1. **Шапка:**

   * ID,
   * клиент и город,
   * статус (бейдж),
   * кнопка «назад».
2. **Параметры подбора:**

   * статус (селект для смены статуса),
   * бюджет,
   * требования (текст),
   * дедлайн.
3. **Сводка по осмотрам:**

   * количество `inspectionIds`,
   * список текстом статусов этих осмотров.
4. **Кандидаты и их осмотры:**

   * таблица связанных `InspectionOrder` с колонками:

     * ID осмотра,
     * статус,
     * авто,
     * город,
     * клиент,
     * дата создания,
   * клик по строке → переход к `/admin/inspections/:id`.

Интерактивность:

* Смена статуса подбора в селекте обновляет `SelectionStore`.
* Опционально: кнопка «Добавить осмотр» с формой, которая:

  * создаёт новый `InspectionOrder`,
  * привязывает его к текущему `SelectionOrder`.

### 4.7. Эксперты `/admin/experts`

Функционал:

* Таблица:

  * Имя,
  * Города,
  * Бренды,
  * Рейтинг,
  * Выполненных осмотров,
  * % отмен,
  * Статус (Активен/Не активен).
* Дополнительно (если успеваете):

  * форма добавления/редактирования эксперта:

    * ФИО, контакты, города, бренды, флаг активности,
    * всё хранится в `ExpertStore`.

Интерактивность:

* Тоггл «Активен/Не активен» обновляет поле `active` в store.
* Форма добавления/редактирования — через модальное окно или отдельный экран.

### 4.8. Чеклисты `/admin/checklists`

На MVP достаточно read-only UI:

* Карточка «Базовый чеклист: легковой авто».
* Описание:

  * список секций (`sections`),
  * краткое пояснение:

    * какие разделы,
    * что фиксируется (галочки/комментарии, фото, замеры толщиномером),
    * идея итогового блока «Рекомендация и скидка».

Не нужно реализовывать полноценный редактор шаблонов, только отображение структуры.

### 4.9. Тарифы `/admin/tariffs`

Функционал:

* Таблица с тарифами:

  * Сегмент цены авто,
  * Тариф (цена / «по договорённости»),
  * Комментарий.
* Данные можно зашить в мок, редактирование не обязательно.

---

## 5. Функциональные требования — Кабинет клиента

### 5.1. Вход / выбор клиента `/client`

Упрощённый режим без полноценной auth:

* Список демо-клиентов (например, имена из мок-данных).
* При выборе клиента:

  * сохраняем `currentClientId` в фронтовом состоянии,
  * показываем его задачи и подборы.

### 5.2. Заявка на осмотр `/client/inspections/new` (опционально)

Форма (wizard):

1. Шаг 1 — ссылка и контакты:

   * поле «Ссылка на объявление»,
   * телефон,
   * email (необязательно).
2. Шаг 2 — ожидания:

   * поле для текста «На что обратить внимание»,
   * выбор города.
3. Шаг 3 — подтверждение:

   * отображение рассчитанного тарифного сегмента (по цене, если есть),
   * кнопка «Отправить заявку».

Результат:

* создаётся новый `InspectionOrder` в store со статусом `NEW` или `WAITING_FOR_EXPERT`,
* пользователь переходит к `/client/inspections/:id`.

### 5.3. Список задач клиента `/client/inspections`

* Показывает только те `InspectionOrder`, где `client` соответствует текущему пользователю (по мок-логике).
* Колонки:

  * ID,
  * Статус,
  * Авто,
  * Город,
  * Дата создания.

Клик по строке → детальная карточка.

### 5.4. Детальная задача осмотра `/client/inspections/:id`

Отображает:

* статус (без возможности редактирования),
* общую информацию по авто (марка, модель, год, пробег, цена),
* комментарий, который оставил клиент,
* информацию о назначенном эксперте (если есть),
* планируемое время осмотра (если есть),
* блок «Отчёт»:

  * если `status === "DONE"` и есть `report` — краткое summary и ссылка (заглушка),
  * если нет — соответствующее сообщение.

---

## 6. Функциональные требования — Кабинет эксперта

### 6.1. Вход / выбор эксперта `/expert`

Упрощённо:

* Список демо-экспертов из `ExpertStore` (только `active`).
* При выборе сохраняем `currentExpertId`.

### 6.2. Список задач эксперта `/expert/inspections`

* Фильтруем `InspectionOrder` по `expertId === currentExpertId` или по городу/брендам (по желанию).
* Колонки:

  * ID,
  * Статус,
  * Авто,
  * Город,
  * Клиент,
  * Время осмотра (если есть).

Клик по строке → детальная карточка осмотра для эксперта.

### 6.3. Карточка осмотра для эксперта `/expert/inspections/:id`

Блоки:

1. Шапка:

   * авто, город,
   * статус (только допустимые переходы).
2. Основные данные:

   * кратко — данные клиента/продавца,
   * сегмент цены,
   * summary «на что обратить внимание».
3. Чеклист:

   * рендерить секции и пункты из `ChecklistTemplate`,
   * для каждого пункта показать:

     * чекбокс, селект или текстовое поле (в зависимости от `type`),
   * данные сохранять в локальном состоянии (и, опционально, привязать к `Report` в `InspectionStore`).
4. Блок «Рекомендация»:

   * селект: «Рекомендуем», «С оговорками», «Не рекомендуем».
   * поля min/max скидки (число).
   * текстовое поле с аргументацией.

Интерактивность:

* При изменении значений чеклиста обновляется `Report` в store.
* При нажатии «Сохранить отчёт»:

  * статус задачи меняется на `REPORT_IN_PROGRESS` или сразу на `DONE` (для простоты можно сразу `DONE`).
* Переход статусов для эксперта:

  * `ASSIGNED` → `IN_PROGRESS` → `REPORT_IN_PROGRESS` → `DONE`.
  * Остальные статусы могут меняться только из админки.

---

## 7. Нефункциональные требования

### 7.1. UX/UI

* Колорит по референсу экрана: тёмный navy-сайдбар (#0f1a2c) с белыми/серебристыми иконками и текстом, основное полотно светлое (#f7f8fc); главный акцент — яркий фиолетовый (#8e2dfd) для активных пунктов, ссылок и CTA; поддерживающие акценты — лаймово-жёлтый/зелёный для звонков, бирюзовый для статусов, оранжево-красный для ошибок.
* Сайдбар: фиксированная ширина, лёгкая тень-разделитель от контента, верх — логотип, ниже карточка пользователя (аватар, имя, роль), далее пункты с иконками; активное состояние заливается фиолетовым, подпункты раскрываются стрелкой.
* Хедер и фильтры: светлая полоса с скруглёнными чипами-инпутами (поиск, дата, клиент, партнёр, исполнитель) и иконками действий (фильтр, корзина, переключатель вида). Высота ~48px, радиус 12–14px, обводка мягкой тенью вместо жёсткой рамки.
* Таблицы: зебра-строки (белый / светло-серый #f0f1f5), тонкие разделители, компактный вертикальный паддинг; слева в строках — чипы пакета/типа с иконками, справа — столбец action-иконок. Ссылки и ID подсвечиваются фиолетовым, вторичный текст серым.
* Чипы/бейджи: овальные, радиус 10–12px, плотность 12–14px по высоте, цветные точки для статусов; допускается лёгкая обводка акцентом на светлом фоне.
* Типографика: базовый шрифт 14px (400), полужирный — для заголовков столбцов и кнопок; 12px — для подсказок/лейблов. Плотный межстрочный интервал, чтобы списки оставались компактными.
* Кнопки: основная — заливка акцентом с белым текстом, вторичная — светло-серая, icon-only — монохромные на светлом фоне; все с мягкими радиусами, без тяжёлого бордера.
* Принцип: с первого взгляда виден статус/приоритет записи и главное действие (фильтры, переключение вида или создание).

### 7.2. Адаптивность

* Десктоп — основной приоритет (админка, эксперт).
* Верстка должна корректно «складываться» до ширины планшета (примерно 1024px).
* Полный mobile-first не обязателен, но не должно ломаться.

### 7.3. Подготовка к интеграции с API

* Вся работа с данными должна быть вынесена в слой сервисов:

  * сейчас функции будут работать с мок-массивами,
  * потом можно заменить их на HTTP-запросы.
* Не привязывать компоненты напрямую к структуре мок-файлов — использовать типизированные модели / интерфейсы.

---

## 8. Что можно опустить на данном этапе

Чтобы не расползлось:

* Нет реальной авторизации/регистрации, только выбор демо-клиента/эксперта.
* Нет настоящей загрузки фото/видео — можно оставить заглушку («здесь будет блок с фотографиями»).
* Нет реальной генерации PDF — только поле `pdfUrl` как строка.
* Нет настоящих карт/геолокации — только текстовый вывод города/адреса.

---

Если тебе нужно, я могу следующим шагом:

* превратить это ТЗ в **оглавление + чеклист задач** для Codex (чтобы они разбили по спринтам),
* или детализировать **контракты store-слоя** (типы функций `getAllInspections`, `updateInspectionStatus`, и т.д.), чтобы они сразу делали архитектуру правильно.
